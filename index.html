<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nacho Vegas Corp. | Portal del Empleado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom Scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4; 
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e; 
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Max width constraint */
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone/Warm Gray/Taupe) to evoke a sterile but "calm" corporate environment, contrasting with the dark lyrics. -->
    <!-- Application Structure Plan: 
         1. Dashboard Layout: Mimics a corporate intranet (Sidebar nav, Header, Main Content).
         2. Section 1: "KPIs de Desencanto" (Key Performance Indicators) - Satirical metrics.
         3. Section 2: "Traductor de Realidad" (The Core) - Interactive cards displaying the 9 euphemisms. Users toggle a "Reality Filter" to reveal the lyric and context. This encourages active exploration of the duality.
         4. Section 3: "An√°lisis de Disociaci√≥n" (Visualization) - A chart comparing the "Corporate Complexity" vs. "Emotional Rawness" of the phrases.
         5. Rationale: The dashboard format fits the source material's satire perfectly. It turns the "Corporate Dictionary" into a tool that looks professional but feels devastating.
    -->
    <!-- Visualization & Content Choices:
         1. Interactive Cards: Goal -> Inform & Compare. Method -> HTML/Tailwind Grid with JS state toggle. Interaction -> Click "Decodificar" to flip from Euphemism to Lyric. Justification -> Forces the user to physically acknowledge the translation.
         2. "Dissociation Index" Chart: Goal -> Analyze. Method -> Chart.js Radar Chart. Interaction -> Hover for details. Justification -> Visually represents the gap between what is said (Corporate) and what is felt (Lyric).
         3. Tickers: Goal -> Atmosphere. Method -> Static HTML numbers. Justification -> Sets the mood immediately.
         4. CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. All icons are unicode or CSS shapes.
    -->
</head>
<body class="bg-stone-50 text-stone-800 font-sans antialiased h-screen flex overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-stone-200 hidden md:flex flex-col border-r border-stone-300">
        <div class="p-6 border-b border-stone-300">
            <h1 class="text-2xl font-bold tracking-tight text-stone-700">NV Corp.</h1>
            <p class="text-xs text-stone-500 mt-1 uppercase tracking-widest">Gesti√≥n del Desencanto</p>
        </div>
        <nav class="flex-1 p-4 space-y-2">
            <button onclick="navigateTo('dashboard')" id="nav-dashboard" class="nav-item w-full text-left px-4 py-3 rounded-lg bg-white shadow-sm text-stone-800 font-medium transition hover:bg-white hover:shadow-md">
                üìä Dashboard General
            </button>
            <button onclick="navigateTo('translator')" id="nav-translator" class="nav-item w-full text-left px-4 py-3 rounded-lg text-stone-600 hover:bg-stone-100 transition">
                üó£Ô∏è Diccionario Corporativo
            </button>
            <button onclick="navigateTo('analytics')" id="nav-analytics" class="nav-item w-full text-left px-4 py-3 rounded-lg text-stone-600 hover:bg-stone-100 transition">
                üìâ M√©tricas de Disociaci√≥n
            </button>
        </nav>
        <div class="p-4 border-t border-stone-300">
            <div class="text-xs text-stone-500 text-center">
                &copy; 2024 Nacho Vegas Corp.<br>
                "Aceptaci√≥n de P√©rdidas"
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col h-full overflow-hidden relative">
        
        <!-- Mobile Header -->
        <header class="md:hidden bg-stone-200 p-4 flex justify-between items-center border-b border-stone-300">
            <span class="font-bold text-stone-700">NV Corp.</span>
            <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="text-stone-600 border border-stone-400 px-2 rounded">‚ò∞</button>
        </header>
        <div id="mobile-menu" class="hidden md:hidden absolute top-14 left-0 w-full bg-stone-100 z-50 border-b border-stone-300 shadow-lg">
            <button onclick="navigateTo('dashboard')" class="block w-full text-left px-6 py-3 border-b border-stone-200">Dashboard</button>
            <button onclick="navigateTo('translator')" class="block w-full text-left px-6 py-3 border-b border-stone-200">Diccionario</button>
            <button onclick="navigateTo('analytics')" class="block w-full text-left px-6 py-3">M√©tricas</button>
        </div>

        <!-- Scrollable Content -->
        <div id="content-area" class="flex-1 overflow-y-auto p-4 md:p-8 bg-stone-50 scroll-smooth">
            
            <!-- SECTION: DASHBOARD (Landing) -->
            <section id="view-dashboard" class="fade-in space-y-8 max-w-5xl mx-auto">
                <div class="bg-white p-8 rounded-xl shadow-sm border border-stone-200">
                    <h2 class="text-3xl font-light text-stone-800 mb-2">Bienvenido, Recurso Humano #4092</h2>
                    <p class="text-stone-500">
                        Este es el portal de transparencia de Nacho Vegas Corp. Aqu√≠ traducimos la ret√≥rica empresarial a su verdadera naturaleza emocional. 
                        Nuestra misi√≥n es sobrevivir al viernes gestionando el declive con elegancia.
                    </p>
                </div>

                <!-- KPI Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100 text-center">
                        <div class="text-4xl font-bold text-stone-800 mb-1" id="kpi-melancholy">87%</div>
                        <div class="text-xs uppercase tracking-widest text-stone-500">√çndice de Melancol√≠a</div>
                        <div class="text-xs text-red-400 mt-2">‚Üë 12% vs Q3</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100 text-center">
                        <div class="text-4xl font-bold text-stone-800 mb-1">0</div>
                        <div class="text-xs uppercase tracking-widest text-stone-500">D√≠as sin Incidentes Emocionales</div>
                        <div class="text-xs text-stone-400 mt-2">Estable</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100 text-center">
                        <div class="text-4xl font-bold text-stone-800 mb-1">9</div>
                        <div class="text-xs uppercase tracking-widest text-stone-500">Eufemismos Activos</div>
                        <div class="text-xs text-green-600 mt-2">Totalmente Integrados</div>
                    </div>
                </div>

                <!-- Featured Insight -->
                <div class="bg-stone-800 text-stone-100 p-8 rounded-xl shadow-lg">
                    <h3 class="text-lg font-medium mb-4 border-b border-stone-600 pb-2">üí° Insight del D√≠a</h3>
                    <blockquote class="italic text-xl font-light opacity-90 mb-4">
                        "Tengo un ambicioso plan: consiste en sobrevivir."
                    </blockquote>
                    <p class="text-sm text-stone-400 text-right">‚Äî Nuevos planes, id√©nticas estrategias</p>
                    <div class="mt-6">
                        <button onclick="navigateTo('translator')" class="bg-stone-200 text-stone-900 px-6 py-2 rounded font-medium hover:bg-white transition">
                            Explorar Diccionario Completo
                        </button>
                    </div>
                </div>
            </section>

            <!-- SECTION: TRANSLATOR (The Dictionary) -->
            <section id="view-translator" class="hidden fade-in max-w-6xl mx-auto">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-stone-800">Diccionario Corporativo vs. Realidad</h2>
                    <p class="text-stone-500 mt-2 max-w-3xl">
                        A continuaci√≥n se presenta el desglose oficial de nuestra terminolog√≠a interna. 
                        Utilice el interruptor de cada tarjeta para desvelar la capa sem√°ntica subyacente (la letra de la canci√≥n y la cruda realidad).
                    </p>
                </div>

                <!-- Filters -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button onclick="filterCards('all')" class="filter-btn active bg-stone-800 text-white px-4 py-1.5 rounded-full text-sm transition">Todos</button>
                    <button onclick="filterCards('HR')" class="filter-btn bg-stone-200 text-stone-600 px-4 py-1.5 rounded-full text-sm hover:bg-stone-300 transition">Recursos Humanos</button>
                    <button onclick="filterCards('Strategy')" class="filter-btn bg-stone-200 text-stone-600 px-4 py-1.5 rounded-full text-sm hover:bg-stone-300 transition">Estrategia</button>
                    <button onclick="filterCards('Operations')" class="filter-btn bg-stone-200 text-stone-600 px-4 py-1.5 rounded-full text-sm hover:bg-stone-300 transition">Operaciones</button>
                </div>

                <!-- Grid Container -->
                <div id="cards-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Cards will be injected by JS -->
                </div>
            </section>

            <!-- SECTION: ANALYTICS (Charts) -->
            <section id="view-analytics" class="hidden fade-in max-w-5xl mx-auto space-y-10">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-stone-800">M√©tricas de Disociaci√≥n</h2>
                    <p class="text-stone-500 mt-2">
                        An√°lisis visual de la brecha entre el lenguaje corporativo as√©ptico y la intensidad emocional real.
                    </p>
                </div>

                <!-- Chart 1: Radar Chart (Complexity vs Pain) -->
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm border border-stone-200">
                    <h3 class="text-lg font-bold text-stone-700 mb-4">Radar de Intensidad: Eufemismo vs. Realidad</h3>
                    <p class="text-sm text-stone-500 mb-6">
                        Este gr√°fico compara la "Densidad Corporativa" (complejidad del eufemismo) con la "Carga L√≠rica" (intensidad emocional de la canci√≥n) por categor√≠a.
                    </p>
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>

                <!-- Chart 2: Bar Chart (Count by Category) -->
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm border border-stone-200">
                    <h3 class="text-lg font-bold text-stone-700 mb-4">Distribuci√≥n de Anomal√≠as por Departamento</h3>
                    <p class="text-sm text-stone-500 mb-6">
                        Volumen de eufemismos detectados seg√∫n el √°rea funcional de la empresa.
                    </p>
                    <div class="chart-container">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA STORE ---
        const euphemisms = [
            {
                id: 1,
                category: 'HR',
                title: 'Gesti√≥n de Expectativas',
                corp: 'Estamos implementando un protocolo de desvinculaci√≥n emocional para mitigar el impacto de los activos t√≥xicos.',
                lyric: 'Hice un plan para que te fueras de mi vida con delicadeza.',
                song: 'Nuevos planes, id√©nticas estrategias',
                context: 'Ruptura amorosa / Despido improcedente',
                intensity: 8, // Emotional pain
                complexity: 9 // Corporate jargon density
            },
            {
                id: 2,
                category: 'HR',
                title: 'Cultura de Empresa',
                corp: 'Buscamos perfiles con alta resiliencia capaces de operar en entornos de baja visibilidad y nula gratificaci√≥n.',
                lyric: 'Soy un hombre afortunado: me he acostumbrado a no serlo.',
                song: 'El hombre que casi conoci√≥ a Michi Panero',
                context: 'Aceptaci√≥n de la miseria laboral',
                intensity: 9,
                complexity: 7
            },
            {
                id: 3,
                category: 'Operations',
                title: 'Fricci√≥n en el Flujo',
                corp: 'Se ha detectado una incompatibilidad sist√©mica en los procesos compartidos que imposibilita la escalabilidad.',
                lyric: 'Lo que no se puede desunir es lo que nos habr√° de separar.',
                song: 'La gran broma final',
                context: 'Fusi√≥n fallida / Socios peleados',
                intensity: 7,
                complexity: 9
            },
            {
                id: 4,
                category: 'Strategy',
                title: 'Estrategia de Crecimiento',
                corp: 'Nuestra hoja de ruta actual prioriza la persistencia operativa sobre la optimizaci√≥n de recursos vitales.',
                lyric: 'Tengo un ambicioso plan: consiste en sobrevivir.',
                song: 'Nuevos planes, id√©nticas estrategias',
                context: 'Burnout / Supervivencia pura',
                intensity: 6,
                complexity: 8
            },
            {
                id: 5,
                category: 'Strategy',
                title: 'An√°lisis de Mercado',
                corp: 'Nuestras m√©tricas confirman que operamos en un nicho de baja diferenciaci√≥n donde la mediocridad es el est√°ndar.',
                lyric: 'Como buen occidental, s√© nadar igual que un pez... un pez en un mar de mediocridad.',
                song: 'Nuevos planes, id√©nticas estrategias',
                context: 'Competencia irrelevante',
                intensity: 5,
                complexity: 7
            },
            {
                id: 6,
                category: 'Audit',
                title: 'Auditor√≠a Interna',
                corp: 'La auditor√≠a ha revelado que la estructura carece de sustento s√≥lido, enfrent√°ndonos a una liquidaci√≥n inminente.',
                lyric: 'Se descubre que detr√°s del escenario no hay nada, que todo el mundo se r√≠e a tus espaldas.',
                song: 'La gran broma final',
                context: 'La empresa es una farsa',
                intensity: 9,
                complexity: 8
            },
            {
                id: 7,
                category: 'Marketing',
                title: 'Reputaci√≥n de Marca',
                corp: 'Estamos gestionando el impacto reputacional derivado de una desconexi√≥n total entre valor prometido y ejecuci√≥n.',
                lyric: 'Se discute la capitulaci√≥n mientras se aproximan carcajadas.',
                song: 'La gran broma final',
                context: 'Fracaso p√∫blico',
                intensity: 8,
                complexity: 9
            },
            {
                id: 8,
                category: 'HR',
                title: 'Salario Emocional',
                corp: 'La compa√±√≠a fomentar√° espacios de socializaci√≥n l√∫dica para sostener la moral del equipo.',
                lyric: 'Nos quedar√°, menos mal, Martini y sexo...',
                song: 'Dry Martini, S.A.',
                context: 'Alcoholismo funcional',
                intensity: 4,
                complexity: 6
            },
            {
                id: 9,
                category: 'Operations',
                title: 'Integraci√≥n',
                corp: 'Estamos ejecutando una estrategia de mimetismo operativo para absorber la cultura del cliente.',
                lyric: 'Me hago tan peque√±o que me deslizo dentro como un pez.',
                song: 'Dry Martini, S.A.',
                context: 'Sumisi√≥n total',
                intensity: 7,
                complexity: 8
            }
        ];

        // --- NAVIGATION LOGIC ---
        function navigateTo(viewId) {
            // Hide all sections
            document.querySelectorAll('section').forEach(el => el.classList.add('hidden'));
            
            // Show target section
            document.getElementById(`view-${viewId}`).classList.remove('hidden');

            // Update Nav visual state
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('bg-white', 'shadow-sm', 'text-stone-800', 'font-medium');
                el.classList.add('text-stone-600');
            });

            // Highlight active nav
            const activeNav = document.getElementById(`nav-${viewId}`);
            if(activeNav) {
                activeNav.classList.add('bg-white', 'shadow-sm', 'text-stone-800', 'font-medium');
                activeNav.classList.remove('text-stone-600');
            }

            // Mobile menu logic
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        // --- CARD RENDER LOGIC ---
        function renderCards(filter = 'all') {
            const grid = document.getElementById('cards-grid');
            grid.innerHTML = '';

            const filteredData = filter === 'all' 
                ? euphemisms 
                : euphemisms.filter(item => item.category === filter);

            filteredData.forEach(item => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden flex flex-col transition hover:shadow-md";
                
                // Card Inner Structure
                card.innerHTML = `
                    <div class="p-6 flex-1 flex flex-col">
                        <div class="flex justify-between items-start mb-4">
                            <span class="inline-block px-2 py-1 bg-stone-100 text-stone-500 text-xs font-semibold rounded uppercase tracking-wide">${item.category}</span>
                            <span class="text-xs text-stone-300">ID: NV-${item.id.toString().padStart(3, '0')}</span>
                        </div>
                        
                        <h3 class="text-lg font-bold text-stone-800 mb-3">${item.title}</h3>
                        
                        <!-- Content Area (Swappable) -->
                        <div class="relative flex-1">
                            <!-- Corporate View (Default) -->
                            <div id="content-corp-${item.id}" class="transition-opacity duration-300">
                                <p class="text-stone-600 italic leading-relaxed">"${item.corp}"</p>
                            </div>
                            
                            <!-- Reality View (Hidden) -->
                            <div id="content-real-${item.id}" class="hidden absolute top-0 left-0 w-full h-full transition-opacity duration-300">
                                <p class="text-stone-800 font-serif font-medium text-lg leading-relaxed mb-2">"${item.lyric}"</p>
                                <div class="mt-4 pt-4 border-t border-stone-100">
                                    <p class="text-xs text-stone-500">üéµ <span class="font-semibold">${item.song}</span></p>
                                    <p class="text-xs text-red-500 mt-1">‚ö†Ô∏è Contexto: ${item.context}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Footer / Toggle -->
                    <div class="bg-stone-50 px-6 py-4 border-t border-stone-100 flex justify-between items-center">
                        <span class="text-xs text-stone-400 font-medium tracking-wider" id="label-${item.id}">MODO: CORPORATIVO</span>
                        <button onclick="toggleCard(${item.id})" class="relative inline-flex h-6 w-11 items-center rounded-full bg-stone-300 transition-colors focus:outline-none focus:ring-2 focus:ring-stone-400 focus:ring-offset-2" id="btn-${item.id}">
                            <span class="sr-only">Toggle Reality</span>
                            <span class="translate-x-1 inline-block h-4 w-4 transform rounded-full bg-white transition-transform" id="dot-${item.id}"></span>
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function toggleCard(id) {
            const corpContent = document.getElementById(`content-corp-${id}`);
            const realContent = document.getElementById(`content-real-${id}`);
            const btn = document.getElementById(`btn-${id}`);
            const dot = document.getElementById(`dot-${id}`);
            const label = document.getElementById(`label-${id}`);
            
            const isShowingReality = realContent.classList.contains('hidden');

            if (isShowingReality) {
                // Switch to Reality
                corpContent.classList.add('opacity-0');
                setTimeout(() => {
                    corpContent.classList.add('hidden');
                    corpContent.classList.remove('opacity-0');
                    realContent.classList.remove('hidden');
                    // Small animation for text entry
                    realContent.classList.add('fade-in');
                }, 150);
                
                // UI Toggle Styles
                btn.classList.remove('bg-stone-300');
                btn.classList.add('bg-stone-700');
                dot.classList.remove('translate-x-1');
                dot.classList.add('translate-x-6');
                label.innerText = "MODO: REALIDAD";
                label.classList.add('text-stone-700');
                
            } else {
                // Switch to Corporate
                realContent.classList.add('hidden');
                realContent.classList.remove('fade-in');
                corpContent.classList.remove('hidden');
                
                // UI Toggle Styles
                btn.classList.remove('bg-stone-700');
                btn.classList.add('bg-stone-300');
                dot.classList.remove('translate-x-6');
                dot.classList.add('translate-x-1');
                label.innerText = "MODO: CORPORATIVO";
                label.classList.remove('text-stone-700');
            }
        }

        function filterCards(category) {
            // Visual feedback on buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.innerText.includes(category === 'all' ? 'Todos' : category)) { // Loose matching for label text
                    btn.classList.add('bg-stone-800', 'text-white');
                    btn.classList.remove('bg-stone-200', 'text-stone-600');
                } else {
                    btn.classList.remove('bg-stone-800', 'text-white');
                    btn.classList.add('bg-stone-200', 'text-stone-600');
                }
                // Handle "HR" label specifically since button text is "Recursos Humanos"
                if(category === 'HR' && btn.innerText.includes('Recursos')) {
                    btn.classList.add('bg-stone-800', 'text-white');
                    btn.classList.remove('bg-stone-200', 'text-stone-600');
                }
            });
            renderCards(category);
        }

        // --- CHARTS LOGIC ---
        let radarChartInstance = null;
        let barChartInstance = null;

        function initCharts() {
            // Prepare Data for Radar Chart (Aggregated by Category)
            const categories = ['HR', 'Strategy', 'Operations', 'Marketing', 'Audit'];
            const complexityScores = [0, 0, 0, 0, 0];
            const intensityScores = [0, 0, 0, 0, 0];
            const counts = [0, 0, 0, 0, 0];

            euphemisms.forEach(item => {
                let idx = categories.indexOf(item.category);
                if (idx === -1) {
                    // Normalize unknown cats to Operations for this demo if needed, or skip
                    // Assuming data is clean.
                    if(item.category === 'Audit') idx = 4;
                }
                if (idx !== -1) {
                    complexityScores[idx] += item.complexity;
                    intensityScores[idx] += item.intensity;
                    counts[idx]++;
                }
            });

            // Average scores
            for (let i = 0; i < categories.length; i++) {
                if (counts[i] > 0) {
                    complexityScores[i] = complexityScores[i] / counts[i];
                    intensityScores[i] = intensityScores[i] / counts[i];
                }
            }

            // Radar Chart
            const ctxRadar = document.getElementById('radarChart').getContext('2d');
            radarChartInstance = new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: ['Recursos Humanos', 'Estrategia', 'Operaciones', 'Marketing', 'Auditor√≠a'],
                    datasets: [{
                        label: 'Densidad Corporativa (Eufemismo)',
                        data: complexityScores,
                        fill: true,
                        backgroundColor: 'rgba(168, 162, 158, 0.2)', // Stone-400
                        borderColor: 'rgb(120, 113, 108)', // Stone-500
                        pointBackgroundColor: 'rgb(120, 113, 108)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(120, 113, 108)'
                    }, {
                        label: 'Intensidad Emocional (Realidad)',
                        data: intensityScores,
                        fill: true,
                        backgroundColor: 'rgba(239, 68, 68, 0.2)', // Red-500
                        borderColor: 'rgb(239, 68, 68)', // Red-500
                        pointBackgroundColor: 'rgb(239, 68, 68)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(239, 68, 68)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: { borderWidth: 3 }
                    },
                    scales: {
                        r: {
                            angleLines: { color: '#e5e7eb' },
                            grid: { color: '#e5e7eb' },
                            pointLabels: {
                                font: { size: 12, family: 'sans-serif' },
                                color: '#44403c'
                            },
                            suggestedMin: 0,
                            suggestedMax: 10
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });

            // Bar Chart (Volume)
            const ctxBar = document.getElementById('barChart').getContext('2d');
            barChartInstance = new Chart(ctxBar, {
                type: 'bar',
                data: {
                    labels: ['Recursos Humanos', 'Estrategia', 'Operaciones', 'Marketing', 'Auditor√≠a'],
                    datasets: [{
                        label: 'Cantidad de Eufemismos Detectados',
                        data: counts,
                        backgroundColor: [
                            'rgba(214, 211, 209, 0.8)', // Stone-300
                            'rgba(168, 162, 158, 0.8)', // Stone-400
                            'rgba(120, 113, 108, 0.8)', // Stone-500
                            'rgba(87, 83, 78, 0.8)',   // Stone-600
                            'rgba(41, 37, 36, 0.8)'     // Stone-800
                        ],
                        borderColor: 'rgba(0,0,0,0)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: '#f5f5f4' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderCards();
            initCharts();
            
            // Highlight default Dashboard
            document.getElementById('nav-dashboard').classList.remove('text-stone-600');
            document.getElementById('nav-dashboard').classList.add('bg-white', 'shadow-sm', 'text-stone-800', 'font-medium');
        });

    </script>
</body>
</html>
